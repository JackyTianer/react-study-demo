<!DOCTYPE html>
<html>
<head lang="zh-cmn-Hans">
  <meta charset="UTF-8">
  <title></title>
  <script src="http://cdn.bootcss.com/react/0.14.0-alpha1/react.js"></script>
  <script src="http://cdn.bootcss.com/react/0.14.0-alpha1/JSXTransformer.js"></script>
</head>
<body>
  <div id="content"></div>
</body>


<script type="text/jsx">

  var TodoItem = React.createClass({
    render: function() {
      return(
              <li>
                {this.props.children}
                <br/>
              </li>
      )
    }
  });

  var TodoList = React.createClass({
    getInitialState: function() {
      return {
        value:'',
        data:[
        {
          text: 'hello'
        },{
          text  : 'world'
        }]
      };
    },
    changeItem: function (e) {
      this.setState({
        value: e.target.value
      });
    },
    submitItem: function(e) {
      console.log(e);
      this.state.data.push({
        text:this.state.value
      });
      this.setState({data: this.state.data, value: ''});
    },
    render: function() {
      var todoItems = this.state.data.map(function(item, index) {
        return(
                <TodoItem key={index + item.text}>
                  {item.text}
                </TodoItem>
        )
      }) ;
      return (
              <div>
                <ul>
                  {todoItems}
                </ul>
                <input value={this.state.value} onChange={this.changeItem}/>
                <button onClick={this.submitItem} >提交</button>
              </div>
      )
    }
  });
  React.render(<TodoList></TodoList>, document.getElementById('content'));
</script>
</html>